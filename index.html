<!DOCTYPE html>
<html>
	<head>
		<script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
		<script src="js/screen.js"></script>
		<script type="text/javascript">

			var Kenetashi ={

				extends: function(className,args) {
					if(window[className]) {
						var c = new window[className];
						jQuery.each(args,function(key,value){
							c[key] = value;
						});
						return c;
					}else{
						console.log('Classname does not exists.');
						return false;
					}
					
				}

			}

			var gOriginal = function(){


				this.setScreen = setScreen;
				this.loadCanvas = loadCanvas;

				var t = setInterval(function(){
					if(document.getElementsByTagName('canvas').length>0){
						var canvas = document.getElementsByTagName('canvas')[0];
						var ctx = canvas.getContext("2d");
						this.canvas = canvas;
						this.ctx = ctx;
						clearInterval(t);
					}
				},300);

				function setScreen(gamescreen) {
					loadCanvas(gamescreen);

				}
				function loadCanvas(gamescreenpass){


					var settings = gamescreenpass.init();
					var t = setInterval(function(){
						if(this.canvas){
							this.canvas.height = settings['height'];
							this.canvas.width =  settings['width'];
							this.canvas.style = 'border:1px solid black;';
							clearInterval(t);


							var ts = setInterval(function(){
								gamescreenpass.render(settings);
							},5000);


						}

					},300);
					
				}

			}



			var Game = new gOriginal();

			var gs = Kenetashi.extends('GameScreen',{

				//overrides
				//this is the constructor
				init: function() {

					//initialize all variables here

					return {
						width: 500,
						height: 500,
						texture: 'aw'
					};

				},

				//overrides
				//do all the drawings here
				render: function(variables) {
					

				}
			});

			//set default screen
			Game.setScreen(gs);








		</script>
	</head>
	<body>
		<canvas></canvas>
	</body>
</html>